import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as u,d as i,e as a,b as s,w as l,f as p,r as o,o as r}from"./app-By3Qqt_-.js";const d={};function k(v,n){const t=o("VidStack"),e=o("CodeDemo");return r(),u("div",null,[n[0]||(n[0]=i('<h1 id="💫-python-ai实践第4课-ai今日头条热搜榜-💫" tabindex="-1"><a class="header-anchor" href="#💫-python-ai实践第4课-ai今日头条热搜榜-💫"><span>💫 Python AI实践第4课：AI今日头条热搜榜 💫</span></a></h1><div class="hint-container tip"><p class="hint-container-title">本节课概要</p><p>一堂课GET√数字时代&quot;热搜分析师&quot;技能包！😍</p><p>💻告别枯燥coding，这堂课我们用Python+AI变身热点发现者～<br> 🤖三大超能力解锁：</p><ul><li>✅搭建热搜榜查询系统，小白也能秒上手！</li><li>✅Streamlit打造颜值爆表界面，朋友圈晒图必获赞！</li><li>✅一键调用AI接口，让机器人秒变信息分析大师！</li></ul><p>🎯信息与科技的完美邂逅！谁说理科生不懂时事？学完就能用代码获取最新热搜，简直不要太amazing～👏 同学们冲鸭！🚀</p></div><hr><h2 id="✨-一、情境导入与兴趣激发-10-15分钟" tabindex="-1"><a class="header-anchor" href="#✨-一、情境导入与兴趣激发-10-15分钟"><span>✨ 一、情境导入与兴趣激发（10-15分钟）</span></a></h2><p>📱 <strong>开场爆燃互动</strong>：大家好呀！！！😝 今天带你们玩一个超~~~实用的AI神器！🤩 有没有猜到是什么？没错，就是让编程小白也能变身热搜分析师的AI工具！先抛个小问题：谁知道现在最火的热搜话题是什么啊？🧐（内心OS：看看哪位时事达人第一个举手～）</p>',5)),a(e,{id:"code-demo-38",type:"normal",title:"%E8%A7%86%E9%A2%91%E7%B4%A0%E6%9D%90",code:"eJyrrgUAAXUA+Q=="},{default:l(()=>[a(t,{src:"https://qiniuyun-new.lqcode.fun/vuepress/hotnews1.mp4"})]),_:1}),n[1]||(n[1]=s("p",null,[p("🌟 "),s("strong",null,"热搜的力量"),p("：OMG！热搜真是太厉害了！💯 一旦登上热搜，瞬间就能获得超高的关注度！明星、事件、产品...都可能因为一条热搜而爆火！特别是抖音、微博和今日头条这些平台的热搜，简直就是流量密码！据说有些热搜一小时能带来上百万的浏览量，影响力简直太恐怖了！👏👏👏")],-1)),n[2]||(n[2]=s("p",null,[p("🎬 "),s("strong",null,"爆笑视频时间"),p("：同学们快看！这段关于热搜背后故事的视频简直长知识！🤣 看看这些热搜是如何影响我们的生活的～（走过路过千万不要错过这个有趣神段🎥）")],-1)),a(e,{id:"code-demo-48",type:"normal",title:"%E8%A7%86%E9%A2%91%E7%B4%A0%E6%9D%90",code:"eJyrrgUAAXUA+Q=="},{default:l(()=>[a(t,{src:"https://qiniuyun-new.lqcode.fun/vuepress/hotnews2.mp4"})]),_:1}),n[3]||(n[3]=s("p",null,[p("🤔 "),s("strong",null,"小脑洞大开"),p("：看完是不是觉得很神奇？热搜不仅反映了大众关注点，还能预测未来的趋势！老师悄悄告诉你们一个秘密：")],-1)),n[4]||(n[4]=s("blockquote",null,[s("p",null,"许多科技公司和投资机构都会通过分析热搜来预测市场动向！比如某款游戏突然登上热搜，背后的游戏公司股票可能立刻上涨；某种食品频繁出现在热搜，相关产业链可能迎来爆发期！")],-1)),a(e,{id:"code-demo-60",type:"normal",title:"%E8%A7%86%E9%A2%91%E7%B4%A0%E6%9D%90",code:"eJyrrgUAAXUA+Q=="},{default:l(()=>[a(t,{src:"https://qiniuyun-new.lqcode.fun/vuepress/hotnews3.mp4"})]),_:1}),n[5]||(n[5]=i(`<p>是不是很有趣？今天，我们就要用AI来打造属于自己的热搜榜查询工具！想知道现在最火的话题是什么吗？（拉几位小可爱来分享～）</p><p>💫 <strong>高能预警</strong>：如果AI秒变你的私人热点顾问，是不是超有feel？今天就让我们变身科技×信息分析师！🚀</p><p>✨ <strong>花式演示</strong>：老师现场为大家查询今日头条热搜榜TOP10，准备好被惊艳到了吗？👀✨</p><hr><h2 id="🛠️-二、案例演示-5分钟" tabindex="-1"><a class="header-anchor" href="#🛠️-二、案例演示-5分钟"><span>🛠️ 二、案例演示（5分钟）</span></a></h2><div class="hint-container info"><p class="hint-container-title">链接跳转</p><p><a href="https://pythonapp.lqcode.fun/hotnews" target="_blank" rel="noopener noreferrer">点我查看AI热搜榜案例</a></p></div><h2 id="🚀-三、知识讲解-15分钟" tabindex="-1"><a class="header-anchor" href="#🚀-三、知识讲解-15分钟"><span>🚀 三、知识讲解（15分钟）</span></a></h2><h3 id="🧰-3-1回顾上节课内容" tabindex="-1"><a class="header-anchor" href="#🧰-3-1回顾上节课内容"><span>🧰 3.1<strong>回顾上节课内容</strong></span></a></h3><p>✨ <strong>快速回顾：我们的AI神兵利器</strong> ✨</p><p>小伙伴们！还记得上节课我们创建的神兵利器生成器吗？今天我们继续玩转AI，不过这次我们要变身信息分析师啦！📊</p><ul><li>🎯 <strong>上节课我们学会了</strong>： <ul><li>使用随机函数增加应用的趣味性</li><li>创建多选框和标签页优化用户界面</li><li>使用会话状态在不同页面间传递数据</li><li>用HTML美化输出结果</li></ul></li></ul><h3 id="🧰-3-2认识新的编程概念" tabindex="-1"><a class="header-anchor" href="#🧰-3-2认识新的编程概念"><span>🧰 3.2<strong>认识新的编程概念</strong></span></a></h3><p>💫 <strong>数据可视化：让数据会说话</strong> 💫</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">import</span> streamlit <span class="token keyword">as</span> st</span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 创建一个简单的数据表</span></span>
<span class="line">data <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&quot;排名&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;话题&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;春节放假安排&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;世界杯决赛&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;新冠疫情最新消息&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;高考成绩公布&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;iPhone新品发布&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;热度&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示数据表</span></span>
<span class="line">st<span class="token punctuation">.</span>dataframe<span class="token punctuation">(</span>df<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示条形图</span></span>
<span class="line">st<span class="token punctuation">.</span>bar_chart<span class="token punctuation">(</span>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">&quot;排名&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;热度&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>🖥️ <strong>数据可视化的优势</strong>： <ul><li>直观展示数据关系和趋势</li><li>让枯燥的数字变得生动有趣</li><li>帮助用户快速理解信息</li></ul></li></ul><h3 id="🧰-3-3-学习本节课所需的lqcodeai的新功能" tabindex="-1"><a class="header-anchor" href="#🧰-3-3-学习本节课所需的lqcodeai的新功能"><span>🧰 3.3 学习本节课所需的lqcodeAI的新功能</span></a></h3><p>🤖 <strong>lqcodeAI：你的AI热搜助手</strong> 🤖</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">from</span> lqcodeAI <span class="token keyword">import</span> lq</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 参数说明：</span></span>
<span class="line"><span class="token comment"># password: &quot;lqcode&quot;</span></span>
<span class="line"><span class="token comment"># 无需其他参数</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 返回值说明：</span></span>
<span class="line"><span class="token comment"># [</span></span>
<span class="line"><span class="token comment">#     {&quot;rank&quot;: 1, &quot;title&quot;: &quot;热搜标题1&quot;, &quot;hot_value&quot;: &quot;热度值1&quot;},</span></span>
<span class="line"><span class="token comment">#     {&quot;rank&quot;: 2, &quot;title&quot;: &quot;热搜标题2&quot;, &quot;hot_value&quot;: &quot;热度值2&quot;},</span></span>
<span class="line"><span class="token comment">#     ...</span></span>
<span class="line"><span class="token comment"># ]</span></span>
<span class="line"></span>
<span class="line">lq<span class="token punctuation">.</span>ai_hotnews<span class="token punctuation">(</span>password<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>💡 <strong>小贴士</strong>：</p><ul><li>热搜榜数据每小时更新一次</li><li>热度值代表该话题的相对热度</li><li>可以通过分析热搜发现社会热点和关注焦点</li></ul><h3 id="🧰-3-4-学习数据处理与展示技巧" tabindex="-1"><a class="header-anchor" href="#🧰-3-4-学习数据处理与展示技巧"><span>🧰 3.4 学习数据处理与展示技巧</span></a></h3><p>🎨 <strong>数据美化与交互：让你的应用更专业</strong> 🎨</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">import</span> streamlit <span class="token keyword">as</span> st</span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示当前时间</span></span>
<span class="line">now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span></span>
<span class="line">st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;数据更新时间：</span><span class="token interpolation"><span class="token punctuation">{</span>now<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 高亮显示重要数据</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">highlight_max</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    is_max <span class="token operator">=</span> s <span class="token operator">==</span> s<span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&#39;background-color: yellow&#39;</span> <span class="token keyword">if</span> v <span class="token keyword">else</span> <span class="token string">&#39;&#39;</span> <span class="token keyword">for</span> v <span class="token keyword">in</span> is_max<span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 应用样式到数据表</span></span>
<span class="line">st<span class="token punctuation">.</span>dataframe<span class="token punctuation">(</span>df<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>highlight_max<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 添加下载按钮</span></span>
<span class="line"><span class="token decorator annotation punctuation">@st<span class="token punctuation">.</span>cache_data</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">convert_df</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">csv <span class="token operator">=</span> convert_df<span class="token punctuation">(</span>df<span class="token punctuation">)</span></span>
<span class="line">st<span class="token punctuation">.</span>download_button<span class="token punctuation">(</span></span>
<span class="line">    <span class="token string">&quot;下载数据&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    csv<span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;热搜榜.csv&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    key<span class="token operator">=</span><span class="token string">&#39;download-csv&#39;</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="🚀-四、分层任务实践-15分钟" tabindex="-1"><a class="header-anchor" href="#🚀-四、分层任务实践-15分钟"><span>🚀 四、分层任务实践（15分钟）</span></a></h2><h3 id="😎-4-1-小试牛刀-创建基础热搜展示" tabindex="-1"><a class="header-anchor" href="#😎-4-1-小试牛刀-创建基础热搜展示"><span>😎 4.1 小试牛刀｜创建基础热搜展示</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">import</span> streamlit <span class="token keyword">as</span> st</span>
<span class="line"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime</span>
<span class="line"></span>
<span class="line">st<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">&#39;今日头条热搜榜&#39;</span><span class="token punctuation">)</span></span>
<span class="line">st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&#39;📱 实时查看最热门的话题！&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示当前时间</span></span>
<span class="line">now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span></span>
<span class="line">st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;数据更新时间：</span><span class="token interpolation"><span class="token punctuation">{</span>now<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 添加刷新按钮</span></span>
<span class="line"><span class="token keyword">if</span> st<span class="token punctuation">.</span>button<span class="token punctuation">(</span><span class="token string">&#39;🔄 刷新数据&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;数据已更新！&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>🎮 <strong>实时演示效果</strong></p></blockquote><ul><li>运行命令：<code>streamlit run app.py</code></li><li>查看时间显示效果</li><li>体验按钮交互</li><li>📸 <strong>拍照打卡</strong>：记录下你的第一个数据应用！</li></ul><h3 id="💖-4-2-进阶挑战-热搜榜可视化-35分钟" tabindex="-1"><a class="header-anchor" href="#💖-4-2-进阶挑战-热搜榜可视化-35分钟"><span>💖 4.2 进阶挑战｜热搜榜可视化（35分钟）</span></a></h3><blockquote><p>📝 <strong>讲解热搜榜生成代码</strong></p></blockquote><ul><li>一步步构建完整的应用</li><li>重点解释： <ul><li>调用API获取实时热搜数据</li><li>将数据转换为DataFrame格式</li><li>创建表格和图表可视化</li><li>添加下载和分享功能</li></ul></li></ul><blockquote><p>🎯 <strong>动手实践时间</strong></p></blockquote><ul><li>跟着老师一起编写代码</li><li>互相帮助，小组合作</li><li>鼓励创意和个性化的界面设计</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code class="language-python"><span class="line"><span class="token keyword">from</span> lqcodeAI <span class="token keyword">import</span> lq</span>
<span class="line"><span class="token keyword">import</span> streamlit <span class="token keyword">as</span> st</span>
<span class="line"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd</span>
<span class="line"><span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime</span>
<span class="line"></span>
<span class="line">st<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">&#39;今日头条热搜榜&#39;</span><span class="token punctuation">)</span></span>
<span class="line">st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&#39;📱 实时查看最热门的话题！&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示当前时间</span></span>
<span class="line">now <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span></span>
<span class="line">st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;数据更新时间：</span><span class="token interpolation"><span class="token punctuation">{</span>now<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 添加刷新按钮</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token string">&#39;hot_news&#39;</span> <span class="token keyword">not</span> <span class="token keyword">in</span> st<span class="token punctuation">.</span>session_state <span class="token keyword">or</span> st<span class="token punctuation">.</span>button<span class="token punctuation">(</span><span class="token string">&#39;🔄 刷新数据&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">with</span> st<span class="token punctuation">.</span>spinner<span class="token punctuation">(</span><span class="token string">&#39;数据获取中...&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        hot_news <span class="token operator">=</span> lq<span class="token punctuation">.</span>ai_hotnews<span class="token punctuation">(</span>password<span class="token operator">=</span><span class="token string">&#39;lqcode&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        st<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>hot_news <span class="token operator">=</span> hot_news</span>
<span class="line">    st<span class="token punctuation">.</span>success<span class="token punctuation">(</span><span class="token string">&#39;数据更新成功！&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 显示热搜数据</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token string">&#39;hot_news&#39;</span> <span class="token keyword">in</span> st<span class="token punctuation">.</span>session_state<span class="token punctuation">:</span></span>
<span class="line">    hot_news <span class="token operator">=</span> st<span class="token punctuation">.</span>session_state<span class="token punctuation">.</span>hot_news</span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 转换为DataFrame</span></span>
<span class="line">    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">for</span> item <span class="token keyword">in</span> hot_news<span class="token punctuation">:</span></span>
<span class="line">        data<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;排名&quot;</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">&quot;rank&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;话题&quot;</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;热度&quot;</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">&quot;hot_value&quot;</span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 创建标签页</span></span>
<span class="line">    tab1<span class="token punctuation">,</span> tab2 <span class="token operator">=</span> st<span class="token punctuation">.</span>tabs<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;📊 数据表&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;📈 图表&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">with</span> tab1<span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 显示数据表</span></span>
<span class="line">        st<span class="token punctuation">.</span>dataframe<span class="token punctuation">(</span>df<span class="token punctuation">,</span> use_container_width<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment"># 添加下载按钮</span></span>
<span class="line">        <span class="token decorator annotation punctuation">@st<span class="token punctuation">.</span>cache_data</span></span>
<span class="line">        <span class="token keyword">def</span> <span class="token function">convert_df</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">return</span> df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        csv <span class="token operator">=</span> convert_df<span class="token punctuation">(</span>df<span class="token punctuation">)</span></span>
<span class="line">        st<span class="token punctuation">.</span>download_button<span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;📥 下载热搜数据&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            csv<span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;热搜榜.csv&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;text/csv&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            key<span class="token operator">=</span><span class="token string">&#39;download-csv&#39;</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">with</span> tab2<span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 显示条形图</span></span>
<span class="line">        st<span class="token punctuation">.</span>subheader<span class="token punctuation">(</span><span class="token string">&quot;热搜话题热度排行&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        chart_data <span class="token operator">=</span> df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">&quot;话题&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        st<span class="token punctuation">.</span>bar_chart<span class="token punctuation">(</span>chart_data<span class="token punctuation">[</span><span class="token string">&quot;热度&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment"># 添加热门话题分析</span></span>
<span class="line">        st<span class="token punctuation">.</span>subheader<span class="token punctuation">(</span><span class="token string">&quot;🔥 热门话题分析&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        top_topic <span class="token operator">=</span> df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;话题&quot;</span><span class="token punctuation">]</span></span>
<span class="line">        st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;当前最热门的话题是：**</span><span class="token interpolation"><span class="token punctuation">{</span>top_topic<span class="token punctuation">}</span></span><span class="token string">**&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment"># 计算平均热度</span></span>
<span class="line">        avg_hot <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;热度&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        st<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;当前热搜平均热度：**</span><span class="token interpolation"><span class="token punctuation">{</span>avg_hot<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">**&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>热搜榜数据获取过程有个等待过程，大概2-3s！</p></div><h3 id="🌟-4-3-拓展延伸-创意挑战-10分钟" tabindex="-1"><a class="header-anchor" href="#🌟-4-3-拓展延伸-创意挑战-10分钟"><span>🌟 4.3 拓展延伸｜创意挑战（10分钟）</span></a></h3><blockquote><p>让同学们尝试：</p></blockquote><ul><li>添加热搜话题分类功能（如娱乐、科技、体育等）</li><li>设计热度变化趋势图（需要保存历史数据）</li><li>实现热搜关键词提取和词云展示</li></ul><h2 id="🎁-五、课堂总结-5分钟" tabindex="-1"><a class="header-anchor" href="#🎁-五、课堂总结-5分钟"><span>🎁 五、课堂总结（5分钟）</span></a></h2><blockquote><p>今天我们学会了：</p></blockquote><ul><li>获取和处理实时热搜数据</li><li>使用pandas处理表格数据</li><li>创建数据可视化图表</li><li>实现数据下载和分享功能</li></ul><div class="hint-container important"><p class="hint-container-title">小贴士</p><p>数据可视化是当今信息时代的核心技能！通过今天的学习，你们已经掌握了如何获取、处理和展示实时数据的能力。这些技能在未来的学习和工作中都会非常有用！🚀</p><p>💫 <strong>课后作业</strong>：</p><ul><li>每天使用你的热搜榜查询一次热点</li><li>思考：哪些热搜背后可能蕴含着商业价值？</li><li>尝试添加一个新的可视化图表（如饼图或折线图）</li></ul><p>🎯 <strong>下节课预告</strong>：</p><ul><li>AI快递查询小哥</li><li>从热搜到物流，连接虚拟与现实</li><li>学习更多实用API的调用方法</li></ul></div>`,42))])}const h=c(d,[["render",k]]),g=JSON.parse('{"path":"/docs/python/python_level3/python_04_hotnews/","title":"💫 Python AI实践第4课：AI今日头条热搜榜 💫","lang":"zh-CN","frontmatter":{"feed":false,"seo":false,"head":[]},"git":{"createdTime":1745072910000,"updatedTime":1745072910000,"contributors":[{"name":"Tivonfeng","username":"Tivonfeng","email":"tivonfeng@163.com","commits":1,"url":"https://github.com/Tivonfeng"}]},"readingTime":{"minutes":7.01,"words":2103},"filePathRelative":"docs/python/python_level3/python_04_hotnews/index.md"}');export{h as comp,g as data};
